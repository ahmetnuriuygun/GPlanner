<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GPlanner.Maui.Pages.UserPage"
             Title="My Profile"
             xmlns:viewModel="clr-namespace:GPlanner.Maui.ViewModels"
             xmlns:model="clr-namespace:GPlanner.Core.Model;assembly=GPlanner.Core"
             x:DataType="viewModel:UserViewModel"
             Background="#F5F5F5">

       <ScrollView>
              <VerticalStackLayout Padding="20"
                                   Spacing="25">

                     <VerticalStackLayout Spacing="10"
                                          HorizontalOptions="Center"
                                          Margin="0, 20, 0, 10">

                            <Border StrokeThickness="2"
                                    Stroke="#4285F4"
                                    StrokeShape="RoundRectangle 90"
                                    HeightRequest="120"
                                    WidthRequest="120"
                                    HorizontalOptions="Center"
                                    VerticalOptions="Center">
                                   <Image Source="profile.png"
                                          Aspect="AspectFill"
                                          HeightRequest="116"
                                          WidthRequest="116"/>
                            </Border>

                            <Label Text="{Binding User.Name}"
                                   FontSize="28"
                                   FontAttributes="Bold"
                                   TextColor="#202124"
                                   HorizontalOptions="Center"/>

                            <Label Text="{Binding User.Username, StringFormat='@{0}'}"
                                   FontSize="16"
                                   TextColor="#5F6368"
                                   HorizontalOptions="Center"/>

                     </VerticalStackLayout>

                     <VerticalStackLayout Spacing="15">

                            <Label Text="Account Details"
                                   FontSize="20"
                                   FontAttributes="Bold"
                                   TextColor="#202124"/>

                            <Border Style="{StaticResource ProfileFieldBorderStyle}">
                                   <Grid ColumnDefinitions="Auto, *">
                                          <Label Text="ðŸŽ“"
                                                 FontSize="20"
                                                 VerticalOptions="Center"/>
                                          <Label Grid.Column="1"
                                                 Text="{Binding User.SchoolName}"
                                                 FontSize="16"
                                                 TextColor="#3C4043"
                                                 Margin="10, 0, 0, 0"/>
                                   </Grid>
                            </Border>

                            <Border Style="{StaticResource ProfileFieldBorderStyle}">
                                   <Grid ColumnDefinitions="Auto, *">
                                          <Label Text="ðŸŽ‚"
                                                 FontSize="20"
                                                 VerticalOptions="Center"/>
                                          <Label Grid.Column="1"
                                                 Text="{Binding User.BirthDate, StringFormat='{0:dd MMM yyyy}'}"
                                                 FontSize="16"
                                                 TextColor="#3C4043"
                                                 Margin="10, 0, 0, 0"/>
                                   </Grid>
                            </Border>

                            <Border Style="{StaticResource ProfileFieldBorderStyle}">
                                   <Grid ColumnDefinitions="Auto, *">
                                          <Label Text="ðŸ¤–"
                                                 FontSize="20"
                                                 VerticalOptions="Center"/>
                                          <Label Grid.Column="1"
                                                 Text="Google Gemini 2.5 Flash"
                                                 FontSize="16"
                                                 TextColor="#3C4043"
                                                 Margin="10, 0, 0, 0"/>
                                   </Grid>
                            </Border>

                            <Border Style="{StaticResource ProfileFieldBorderStyle}">
                                   <Grid ColumnDefinitions="Auto, *, Auto">
                                          <Label Text="ðŸ””"
                                                 FontSize="20"
                                                 VerticalOptions="Center"/>
                                          <Label Grid.Column="1"
                                                 Text="Notifications"
                                                 FontSize="16"
                                                 TextColor="#3C4043"
                                                 VerticalOptions="Center"
                                                 Margin="10, 0, 0, 0"/>
                                          <Switch Grid.Column="2"
                                                  IsToggled="{Binding User.IsNotified}"
                                                  OnColor="#FF74C2EB"/>
                                   </Grid>
                            </Border>



                     </VerticalStackLayout>

                     <BoxView HeightRequest="1"
                              Color="#E0E0E0"
                              Margin="0, 10, 0, 10"/>


              </VerticalStackLayout>
       </ScrollView>

       <ContentPage.Resources>
              <Style x:Key="ProfileFieldBorderStyle"
                     TargetType="Border">
                     <Setter Property="Padding"
                             Value="15"/>
                     <Setter Property="StrokeShape"
                             Value="RoundRectangle 10"/>
                     <Setter Property="StrokeThickness"
                             Value="1"/>
                     <Setter Property="Stroke"
                             Value="#E8EAED"/>
                     <Setter Property="BackgroundColor"
                             Value="White"/>
              </Style>
       </ContentPage.Resources>
</ContentPage>