<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GPlanner.Maui.Pages.TaskModal"
             Title="{Binding IsEditMode, Converter={StaticResource BoolToTextConverter}, ConverterParameter='Edit Task |Create a new Task'}"
             xmlns:viewModel="clr-namespace:GPlanner.Maui.ViewModels"
             xmlns:model="clr-namespace:GPlanner.Core.Model;assembly=GPlanner.Core"
             x:Name="Page"
             x:DataType="viewModel:TaskModalViewModel"
             Shell.NavBarIsVisible="True">



       <ScrollView>
              <StackLayout Padding="20"
                           Spacing="15">
                     <Label Text="Task Title"
                            FontSize="16"
                            FontAttributes="Bold"
                            HorizontalOptions="Start"/>
                     <Border StrokeThickness="1"
                             Stroke="#CCCCCC"
                             StrokeShape="RoundRectangle 20,20,20,20">

                            <Entry Placeholder="Task Title"
                                   Text="{Binding ActiveTask.Title}"/>
                     </Border>

                     <Label Text="Description"
                            FontSize="16"
                            FontAttributes="Bold"
                            HorizontalOptions="Start"/>
                     <Border StrokeThickness="1"
                             Stroke="#CCCCCC"
                             StrokeShape="RoundRectangle 20,20,20,20">
                            <Editor Placeholder="Details about the task..."
                                    Text="{Binding ActiveTask.Description}"
                                    HeightRequest="100"/>
                     </Border>

                     <Label Text="Task Type"
                            FontSize="16"
                            FontAttributes="Bold"
                            TextColor="#202124"/>
                     <Border StrokeThickness="1"
                             Stroke="#CCCCCC"
                             StrokeShape="RoundRectangle 20,20,20,20">
                            <Picker Title="Select Task Type"
                                    SelectedItem="{Binding ActiveTask.Type, Mode=TwoWay}"
                                    ItemsSource="{Binding TaskTypes}"
                                    TextColor="#202124"
                                    FontSize="16"
                                    BackgroundColor="Transparent"/>
                     </Border>

                     <Label Text="{Binding Priority, StringFormat='Priority: {0:F0}'}"
                            FontSize="16"
                            FontAttributes="Bold"
                            TextColor="#202124"/>


                     <Slider Minimum="1"
                             Maximum="5"
                             Value="{Binding Priority, Mode=TwoWay}"
                             MinimumTrackColor="#1A73E8"
                             MaximumTrackColor="#E8EAED"/>

                     <Label Text="Due Date"
                            FontSize="16"
                            FontAttributes="Bold"
                            TextColor="#202124"/>
                     <Border StrokeThickness="1"
                             Stroke="#CCCCCC"
                             StrokeShape="RoundRectangle 20,20,20,20">
                            <DatePicker Date="{Binding ActiveTask.Date}"
                                        Format="ddd, MMM dd, yyyy"
                                        MinimumDate="{Binding MinDate}"
                                        MaximumDate="{Binding MaxDate}"
                                        TextColor="#202124"
                                        FontSize="16"/>
                     </Border>


                     <Label Text="Due Time"
                            FontSize="16"
                            FontAttributes="Bold"
                            TextColor="#202124"/>
                     <Border StrokeThickness="1"
                             Stroke="#CCCCCC"
                             StrokeShape="RoundRectangle 20,20,20,20">
                            <TimePicker Time="{Binding NewTaskTime}"
                                        TextColor="#202124"
                                        FontSize="16"/>
                     </Border>

                     <Button Command="{Binding AddOrSaveCommand}"
                             Text="{Binding IsEditMode, Converter={StaticResource BoolToTextConverter}, ConverterParameter='Save|Create'}"
                             FontAttributes="Bold"
                             CornerRadius="25"
                             HeightRequest="50"
                             TextColor="White">
                            <Button.Background>
                                   <LinearGradientBrush StartPoint="0,0"
                                                        EndPoint="1,0">
                                          <GradientStop Color="#4285F4"
                                                        Offset="0.0"/>
                                          <GradientStop Color="#0F9D58"
                                                        Offset="1.0"/>
                                   </LinearGradientBrush>
                            </Button.Background>
                     </Button>
              </StackLayout>
       </ScrollView>
</ContentPage>